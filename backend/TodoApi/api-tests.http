### Todo API Test Collection
### Base URL
@baseUrl = http://localhost:5000/api
@contentType = application/json

###
### 1. Get all todos
GET {{baseUrl}}/todos HTTP/1.1

###
### 2. Get all incomplete todos
GET {{baseUrl}}/todos?isCompleted=false HTTP/1.1

###
### 3. Get all high priority todos
GET {{baseUrl}}/todos?priority=2 HTTP/1.1

###
### 4. Get todo by ID
GET {{baseUrl}}/todos/1 HTTP/1.1

###
### 5. Create a new todo
POST {{baseUrl}}/todos HTTP/1.1
Content-Type: {{contentType}}

{
  "title": "Complete the full-stack take-home test",
  "description": "Build a production-ready todo application with .NET Core and React",
  "priority": 2,
  "dueDate": "2025-12-31",
  "timezoneOffset": 0,
  "tags": ["work", "urgent"]
}

###
### 6. Create another todo
POST {{baseUrl}}/todos HTTP/1.1
Content-Type: {{contentType}}

{
  "title": "Write comprehensive README",
  "description": "Document setup steps, architecture decisions, and trade-offs",
  "priority": 1,
  "timezoneOffset": 0,
  "tags": ["documentation"]
}

###
### 7. Update a todo
PUT {{baseUrl}}/todos/1 HTTP/1.1
Content-Type: {{contentType}}

{
  "title": "Complete the full-stack take-home test - UPDATED",
  "description": "Build a production-ready todo application with clean architecture",
  "priority": 3,
  "timezoneOffset": 0
}

###
### 8. Toggle todo completion
PATCH {{baseUrl}}/todos/1/toggle HTTP/1.1

###
### 9. Delete a todo
DELETE {{baseUrl}}/todos/1 HTTP/1.1

###
### 10. Test validation - empty title (should fail)
POST {{baseUrl}}/todos HTTP/1.1
Content-Type: {{contentType}}

{
  "title": "",
  "description": "This should fail validation"
}

###
### 11. Test validation - title too long (should fail)
POST {{baseUrl}}/todos HTTP/1.1
Content-Type: {{contentType}}

{
  "title": "This is a very long title that exceeds the maximum allowed length of 200 characters. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.",
  "description": "Testing validation"
}

###
### 12. Test validation - invalid priority (should fail)
POST {{baseUrl}}/todos HTTP/1.1
Content-Type: {{contentType}}

{
  "title": "Test invalid priority",
  "priority": 10,
  "timezoneOffset": 0
}

###
### 13. Test validation - past due date (should fail)
POST {{baseUrl}}/todos HTTP/1.1
Content-Type: {{contentType}}

{
  "title": "Test past due date",
  "priority": 1,
  "dueDate": "2020-01-01",
  "timezoneOffset": 0
}

###
### 14. Test validation - description too long (should fail)
POST {{baseUrl}}/todos HTTP/1.1
Content-Type: {{contentType}}

{
  "title": "Test description validation",
  "description": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Extra text to exceed 1000 characters limit for testing purposes.",
  "priority": 1,
  "timezoneOffset": 0
}

###
### 15. Get non-existent todo (should return 404)
GET {{baseUrl}}/todos/99999 HTTP/1.1

###
### 16. Update non-existent todo (should return 404)
PUT {{baseUrl}}/todos/99999 HTTP/1.1
Content-Type: {{contentType}}

{
  "title": "This should fail",
  "timezoneOffset": 0
}

###
### 17. Delete non-existent todo (should return 404)
DELETE {{baseUrl}}/todos/99999 HTTP/1.1

###
### 18. Toggle non-existent todo (should return 404)
PATCH {{baseUrl}}/todos/99999/toggle HTTP/1.1

###
### 19. Combined filters - incomplete high priority todos
GET {{baseUrl}}/todos?isCompleted=false&priority=2 HTTP/1.1

###
### 20. Partial update - only change priority
PUT {{baseUrl}}/todos/1 HTTP/1.1
Content-Type: {{contentType}}

{
  "priority": 3,
  "timezoneOffset": 0
}
